{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "E2E Validation Configuration",
  "description": "Configuration schema for E2E validation test suites",
  "type": "object",
  "required": ["name", "resource_types", "naming_conventions", "terraform_versions", "test_mode"],
  "properties": {
    "name": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "description": "Unique identifier for this configuration (e.g., 'quick-pr', 'comprehensive-main')"
    },
    "resource_types": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "pattern": "^azurerm_[a-z_]+$"
      },
      "description": "List of Azure resource types to test"
    },
    "naming_conventions": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "enum": ["cafclassic", "cafrandom", "random", "passthrough"]
      },
      "description": "Naming conventions to test"
    },
    "terraform_versions": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
      },
      "description": "Terraform versions to test against"
    },
    "test_mode": {
      "type": "string",
      "enum": ["quick", "standard", "comprehensive"],
      "description": "Validation mode"
    },
    "max_parallel_jobs": {
      "type": "integer",
      "minimum": 1,
      "maximum": 50,
      "default": 10,
      "description": "Number of parallel test jobs"
    },
    "timeout_minutes": {
      "type": "integer",
      "minimum": 1,
      "maximum": 180,
      "default": 60,
      "description": "Maximum execution time"
    },
    "cleanup_enabled": {
      "type": "boolean",
      "default": true,
      "description": "Whether to clean up test resources"
    }
  }
}
